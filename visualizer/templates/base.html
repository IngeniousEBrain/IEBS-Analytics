{% load static %}
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>IE-Brain | Patent Pulse</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{% static 'plugins/datatables-bs4/css/dataTables.bootstrap4.min.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/fontawesome-free/css/all.min.css' %}">
    <!-- Ionicons -->
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <!-- Tempusdominus Bbootstrap 4 -->
    <link rel="stylesheet"
          href="{% static 'plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css' %}">
    <!-- iCheck -->
    <link rel="stylesheet" href="{% static 'plugins/icheck-bootstrap/icheck-bootstrap.min.css' %}">
    <!-- JQVMap -->
    <link rel="stylesheet" href="{% static 'plugins/jqvmap/jqvmap.min.css' %}">
    <!-- Theme style -->
    <link rel="stylesheet" href="{% static 'dist/css/adminlte.min.css' %}">
<!--    ===================================================================-->
    <!-- overlayScrollbars -->
    <link rel="stylesheet" href="{% static 'plugins/overlayScrollbars/css/OverlayScrollbars.min.css' %}">
    <!-- Daterange picker -->
    <link rel="stylesheet" href="{% static 'plugins/daterangepicker/daterangepicker.css' %}">
    <!-- summernote -->
    <link rel="stylesheet" href="{% static 'plugins/summernote/summernote-bs4.css' %}">
    <!-- Google Font: Source Sans Pro -->
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script src="https://cdn.ckeditor.com/ckeditor5/44.0.0/classic/ckeditor.js"></script>
    <style>
    .tab-container {
    display: flex;
    justify-content: center;
    margin-bottom: 20px;
}

.tab-link {
    display: inline-block;
    padding: 5px 10px;
    font-size: 12px;
    text-decoration: none;
    color: #333;
    background-color: #f5f5f5;
    border: 1px solid #ddd;
    border-radius: 4px;
    margin-right: 5px;
    transition: background-color 0.3s, color 0.3s;
}

.tab-link.active {
    background-color: #4285f4;
    color: #fff;
    border-color: #3367d6;
}

.tab-link:hover {
    background-color: #e0e0e0;
    color: #333;
}

.tab-link.active:hover {
    background-color: #3367d6;
    color: #fff;
}

.tab-icon {
    margin-right: 3px;
    font-size: 10px;
}

.main-sidebar {
      border-color: aqua;
    }
    p {
      color: aqua;
    }
    .brand-text{
        color: aqua;
        font-weight: bold;
    }
    .info{
      color: aqua;
    }
     .nav-sidebar .nav-link.active {
      background-color: royalblue;
      color: white;
    }


  .content-header {
        background-color: #f8f9fa;
        padding: 20px;
        border-radius: 5px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .table {
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    #saveButton {
        background-color: #007bff;
        color: #fff;
        border: none;
        padding: 8px 16px;
        border-radius: 4px;
        cursor: pointer;
    }

    #saveButton:hover {
        background-color: #0056b3;
    }
    </style>
</head>
<body class="hold-transition sidebar-mini layout-fixed">
<div class="wrapper">
    <!-- Navbar -->
    <nav class="main-header navbar navbar-expand navbar-white navbar-light">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a href="{% url 'logout' %}" class="btn btn-danger btn-sm">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </a>
            </li>
        </ul>
    </nav>
    <aside class="main-sidebar sidebar-dark-primary elevation-4" style="border-right: 5px solid aqua;">
        <!-- Brand Logo -->
        <a href="https://www.iebrain.com/" target="_blank" class="brand-link">
            <img  src="{% static 'img/IeBPPtoolicon.png' %}" alt="I-EB Logo"
                 class="brand-image  elevation-0" style="opacity: .8">
            <span class="brand-text font-weight-light">IeB Patent Pulse </span>
        </a>

        <!-- Sidebar -->
        <div class="sidebar">
            <div class="user-panel mt-3 pb-3 mb-3 d-flex">
                {% block info %}
           <div class="info text-center" style="margin-left: 5%; width: 100%;">
            {% if not request.session.user_role == 'superAdmin' %}
            <a href="{% url 'profile' %}" class="d-block" style="display: flex; font-weight: normal;font-size: 12px; text-decoration: none; color: inherit; width: 100%;">
                <span style="flex-grow: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-right: 10px;">
                    {{ request.session.user_name|title }}
                </span>
               {% if request.session.client_company_logo != '/media/img/inginious_logo.png' %}
                {% if request.session.client_company_logo %}
                <img src="{{ request.session.client_company_logo }}" alt="client-Logo" style="opacity: 0.8; max-width: 90px; height: auto; flex-shrink: 0;">
                {% endif %}
                {% endif %}
            </a>
            {% else %}
            <a href="{% url 'admin_profile' %}" class="d-block" style="font-weight: bold;">
                {{ request.session.user_name|title }}
            </a>
            {% endif %}
        </div>
                {% endblock %}
            </div>
            <!-- Sidebar Menu -->
            {% if not request.session.user_role == 'superAdmin' %}
            <nav class="mt-2">
                <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu"
                    data-accordion="false">
                    <!-- Add icons to the links using the .nav-icon class with font-awesome or any other icon font library -->
                    <li class="nav-item has-treeview {% if '/index' in request.get_full_path or '/profile' in request.get_full_path or '/common' in request.get_full_path or 'completed_project_list' in request.get_full_path %} menu-open {% endif %}">
                        <a href="{% url 'index' %}"
                           class="nav-link {% if '/index' in request.get_full_path or '/profile' in request.get_full_path or '/common/' in request.get_full_path or 'completed_project_list' in request.get_full_path or 'in_progress_project_list' in request.get_full_path %} active {% endif %}">
                            <i class="nav-icon fas fa-tachometer-alt"></i>
                            <p>
                                Dashboard
                            </p>
                        </a>
                    </li>
                    {% if request.session.user_role == 'project_manager' %}
                    <li class="nav-item has-treeview {% if '/project_client_association' in request.get_full_path or '/profile' in request.get_full_path %} menu-open {% endif %}">
                        <a href="{% url 'project_client_association' %}"
                           class="nav-link {% if '/project_client_association' in request.get_full_path%} active {% endif %}">

                            <i class="nav-icon fas fa-cog"></i>
                            <p>
                                Project-Client Association
                            </p>
                        </a>
                    </li>
                    {% endif %}
                     {% if request.session.user_role == 'project_manager' or request.session.user_role == 'key_account_holder' %}
                    <li class="nav-item has-treeview {% if '/report/' in request.get_full_path %} menu-open {% endif %}">
                        <a href="{% url 'project-list' 'report' %}"
                           class="nav-link {% if '/report' in request.get_full_path%} active {% endif %}">

                            <i class="nav-icon fa fa-file"></i>
                            <p>
                               Project Reports
                            </p>
                        </a>
                    </li>
                    {% endif %}
                    <li class="nav-item has-treeview {% if '/bibliographic_charts' in request.get_full_path or '/competitor_charts' in request.get_full_path or '/tech_charts' in request.get_full_path or '/bibliographic/' in request.get_full_path or '/competitive/' in request.get_full_path  or '/technical/' in request.get_full_path %} menu-open {% endif %}">
                        <a href="#"
                           class="nav-link {% if '/bibliographic_charts' in request.get_full_path or '/competitor_charts' in request.get_full_path or '/tech_charts' in request.get_full_path  or 'project-list/competitive/' in request.get_full_path or '/project-list/bibliographic/' in request.get_full_path or '/project-list/technical/' in request.get_full_path %} active {% endif %}">
                            <i class="nav-icon fas fa-chart-pie"></i>
                            <p>
                                Visualization Analytics
                                <i class="right fas fa-angle-left"></i>
                            </p>
                        </a>
                        <ul class="nav nav-treeview">
                            <li class="nav-item">
                                <a href="{% url 'project-list' 'bibliographic' %}"
                                   class="nav-link {% if '/bibliographic_charts' in request.get_full_path or '/bibliographic/' in request.get_full_path %} active {% endif %}">
                                    <i class="far fa-circle nav-icon"></i>
                                    <p>Bibliographic Charts</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="{% url 'project-list' 'competitive' %}"
                                   class="nav-link {% if '/competitor_charts' in request.get_full_path or '/competitive/' in request.get_full_path  %} active {% endif %}">
                                    <i class="far fa-circle nav-icon"></i>
                                    <p>Competitor Charts</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                    <a href="{% url 'project-list' 'technical' %}"
                                   class="nav-link {% if '/tech_charts' in request.get_full_path or '/technical/' in request.get_full_path %} active {% endif %}">
                                    <i class="far fa-circle nav-icon"></i>
                                    <p>Technical Charts</p>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </nav>
            {% else %}
            <nav class="mt-2">
                <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu"
                    data-accordion="false">
                    <!-- Add icons to the links using the .nav-icon class with font-awesome or any other icon font library -->
                    <li class="nav-item has-treeview {% if '/index' in request.get_full_path or '/profile' in request.get_full_path or '/common' in request.get_full_path%} menu-open {% endif %}">
                        <a href="{% url 'admin_index' %}"
                           class="nav-link {% if '/admin_index' in request.get_full_path or '/admin_profile' in request.get_full_path %} active {% endif %}">
                            <i class="nav-icon fas fa-tachometer-alt"></i>
                            <p>
                                Dashboard
                            </p>
                        </a>
                    </li>
                    <li class="nav-item has-treeview {% if '/add_user/' in request.get_full_path or '/user_listing' in request.get_full_path %} menu-open {% endif %}">
                        <a href="{% url 'user_listing' %}"
                           class="nav-link {% if '/add_user' in request.get_full_path or '/user_listing' in request.get_full_path or 'edit_user' in request.get_full_path %} active {% endif %}">

                            <i class="nav-icon fa fa-users"></i>
                            <p>Users</p>
                        </a>
                    </li>
                    <li class="nav-item has-treeview {% if '/admin_project_listing' in request.get_full_path or 'user_project_association' in request.get_full_path or 'admin_project_listing' in request.get_full_path or 'association_listing' in request.get_full_path %} menu-open {% endif %}">
                        <a href="{% url 'admin_project_listing' %}"
                           class="nav-link {% if '/add_project' in request.get_full_path or '/admin_project_listing' in request.get_full_path or 'user_project_association' in request.get_full_path or 'admin_project_listing' in request.get_full_path or 'association_listing' in request.get_full_path or 'edit_project' in request.get_full_path or 'reports_listing' in request.get_full_path %} active {% endif %}">

                            <i class="nav-icon fas fa-project-diagram"></i>
                            <p>
                                Projects
                            </p>
                        </a>
                    </li>
<!--                     <li class="nav-item has-treeview {% if '/user_project_association/' in request.get_full_path %} menu-open {% endif %}">-->
<!--                        <a href="{% url 'user_project_association' %}"-->
<!--                           class="nav-link {% if '/report' in request.get_full_path%} active {% endif %}">-->

<!--                            <i class="nav-icon fas fa-link"></i>-->
<!--                            <p>Project User Association</p>-->
<!--                        </a>-->
<!--                    </li>-->
                </ul>
            </nav>
            {% endif %}
        </div>
        <!-- /.sidebar -->
    </aside>
    <!-- Content -->
    <div class="content-wrapper">
        <section class="content">
            {% block content %}
            <!-- Default content here -->
            {% endblock %}
        </section>
    </div>
    <!-- Footer -->
    <footer class="main-footer">
        <strong>Copyright &copy; 2024-2025 <a href="https://www.iebrain.com/">Ingenious e brain solution</a>.</strong>
        All rights reserved.
        <div class="float-right d-none d-sm-inline-block">
            <b>Version</b> 1.0.0
        </div>
    </footer>
</div>
{% block scripts %}
<!-- jQuery -->
<script src="{% static 'plugins/jquery/jquery.min.js' %}"></script>
<script src="{% static 'plugins/datatables/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'plugins/datatables-bs4/js/dataTables.bootstrap4.min.js' %}"></script>
<script src="{% static 'plugins/datatables-responsive/js/dataTables.responsive.min.js' %}"></script>
<script src="{% static 'plugins/datatables-responsive/js/responsive.bootstrap4.min.js' %}"></script>
<script src="{% static 'plugins/datatables-buttons/js/dataTables.buttons.min.js' %}"></script>
<script src="{% static 'plugins/datatables-buttons/js/buttons.bootstrap4.min.js' %}"></script>
<script src="{% static 'plugins/jszip/jszip.min.js' %}"></script>
<script src="{% static 'plugins/pdfmake/pdfmake.min.js' %}"></script>
<script src="{% static 'plugins/pdfmake/vfs_fonts.js' %}"></script>
<script src="{% static 'plugins/datatables-buttons/js/buttons.html5.min.js' %}"></script>
<script src="{% static 'plugins/datatables-buttons/js/buttons.print.min.js' %}"></script>
<script src="{% static 'plugins/datatables-buttons/js/buttons.colVis.min.js' %}"></script>
<script src="{% static 'dist/js/adminlte.min.js' %}"></script>
<!-- Page specific script -->
<script>
    $(function () {
     $("#example1").DataTable({
       "responsive": true, "lengthChange": false, "autoWidth": false,
<!--       "buttons": ["copy", "csv", "excel", "pdf", "print"]-->
     }).buttons().container().appendTo('#example1_wrapper .col-md-6:eq(0)');
     $('#example2').DataTable({
       "paging": true,
       "lengthChange": false,
       "searching": false,
       "ordering": true,
       "info": true,
       "autoWidth": false,
       "responsive": true,
     });
   });
</script>
<!-- page script -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.16.9/xlsx.full.min.js"></script>
<!-- jQuery -->
<!-- jQuery UI 1.11.4 -->
<script src="{% static 'plugins/jquery-ui/jquery-ui.min.js' %}"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>$.widget.bridge('uibutton', $.ui.button)</script>
<!-- Bootstrap 4 -->
<script src="{% static 'plugins/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<!-- ChartJS -->
<script src="{% static 'plugins/chart.js/Chart.min.js' %}"></script>
<!-- Sparkline -->
<script src="{% static 'plugins/sparklines/sparkline.js' %}"></script>
<!-- JQVMap -->
<script src="{% static 'plugins/jqvmap/jquery.vmap.min.js' %}"></script>
<script src="{% static 'plugins/jqvmap/maps/jquery.vmap.usa.js' %}"></script>
<!-- jQuery Knob Chart -->
<script src="{% static 'plugins/jquery-knob/jquery.knob.min.js' %}"></script>
<!-- daterangepicker -->
<script src="{% static 'plugins/moment/moment.min.js' %}"></script>
<script src="{% static 'plugins/daterangepicker/daterangepicker.js' %}"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="{% static 'plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js' %}"></script>
<!-- Summernote -->
<script src="{% static 'plugins/summernote/summernote-bs4.min.js' %}"></script>
<!-- overlayScrollbars -->
<script src="{% static 'plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js' %}"></script>
<!-- AdminLTE App -->
<script src="{% static 'dist/js/adminlte.js' %}"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<script src="{% static 'dist/js/pages/dashboard.js' %}"></script>
<!-- AdminLTE for demo purposes -->
<script src="{% static 'dist/js/demo.js' %}"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.0.1/dist/chart.umd.min.js"></script>
<!-- Sparkline -->
<script src="{% static 'plugins/sparklines/sparkline.js' %}"></script>
{% endblock %}
</body>
</html>
